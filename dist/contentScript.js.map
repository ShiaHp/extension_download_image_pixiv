{"version":3,"file":"contentScript.js","sources":["webpack://pixiv-downloader/./src/style/button.ts","webpack://pixiv-downloader/./src/ts/utils/api.ts","webpack://pixiv-downloader/./src/ts/utils/classified.ts","webpack://pixiv-downloader/./src/ts/utils/storage.ts","webpack://pixiv-downloader/webpack/bootstrap","webpack://pixiv-downloader/webpack/runtime/define property getters","webpack://pixiv-downloader/webpack/runtime/hasOwnProperty shorthand","webpack://pixiv-downloader/webpack/runtime/make namespace object","webpack://pixiv-downloader/./src/ts/contentScript/contentScript.ts"],"sourcesContent":["export const buttonDownloadAllCss = `\n.styleButtonAll{\n  zIndex: 9999;\n  background-color: #52e010;\n  border-radius: 5px;\n  font-size: 18px;\n  align-content: center;\n  position: fixed;\n  color: #fff;\n  right: 0;\n  bottom: 350px;\n  padding: 0.5rem;\n  margin: 0.5rem 0.5rem 0.5rem 0;\n  transition: 0.2s all;\n  cursor: pointer;\n  transform: scale(0.98);\n  box-shadow: 3px 2px 22px 1px rgba(0, 0, 0, 0.24);\n  }\n`;\r\nexport const checkboxCss = `\n.stylecheckbox {\n  z-index: 9998;\n  font-size: 20px;\n  position: absolute;\n  border-radius: 5px;\n  top: 0px;\n  left: 0px;\n  height: 25px;\n  width: 25px;\n  background-color: rgba(255, 255, 255, 0.5rem);\n}\n`;\r\nexport const buttonCss = `\n.buttonCss {\n  z-index: 9999;\n  background-color: #52e010;\n  border-radius: 5px;\n  font-size: 18px;\n  align-content: center;\n  color: #fff;\n  position : absolute;\n  right: 0;\n  top: 1rem;\n  padding: 0.5rem;\n  margin: 0.5rem 0.5rem 0.5rem 0;\n  transition: 0.2s all;\n  cursor: pointer;\n  transform: scale(0.98);\n  opacity: 0.5rem;\n  box-shadow: 3px 2px 22px 1px rgba(0, 0, 0, 0.24);\n}\n`;\r\nexport const myImagecss = `\n.myImage {\n  borderRadius: 5px;\n  border: 1px solid black;\n  padding: 5px;\n  width: 150px;\n}\n\n`;\r\nexport const myProgresscss = `\n  .myProgress {\n    width: 100px;\n    height: 10px;\n    backgroundColor: #ddd;\n    display: none;\n    zIndex: 1000;\n    position: fixed;\n    right: 0;\n    bottom: 0;\n    padding: 0.5rem;\n    margin: 0.5rem 0.5rem 0.5rem 0;\n    display: block;\n}\n`;\r\nexport const processBarcss = `\n  .processBar {\n    background-color: #04AA6D;\n    font-size: 15px;\n    width: 10%;\n    height: 10px;\n    display: block;\n  }\n`;\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nexport const myHeaders = new Headers();\r\nmyHeaders.append(\"sec-fetch-site\", \"cross-site\");\r\nmyHeaders.append(\"referer\", \"https://www.pixiv.net/\");\r\nconst requestOptions = {\r\n    method: \"GET\",\r\n    headers: myHeaders,\r\n};\r\nexport class API {\r\n    static sendGetRequest(url) {\r\n        return new Promise((resolve, reject) => {\r\n            fetch(url, {\r\n                method: 'get',\r\n                credentials: 'same-origin'\r\n            })\r\n                .then((response) => {\r\n                if (response.ok) {\r\n                    return response.json();\r\n                }\r\n                else {\r\n                    reject({\r\n                        status: response.status,\r\n                        statusText: response.statusText,\r\n                    });\r\n                }\r\n            })\r\n                .then((data) => {\r\n                resolve(data);\r\n            })\r\n                .catch((error) => {\r\n                reject(error);\r\n            });\r\n        });\r\n    }\r\n    static getBookMarkOfUser(id, type = \"illusts\", offset, limit) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const url = `https://www.pixiv.net/ajax/user/${id}/${type}/bookmarks?tag=&offset=${offset}&limit=${limit}&rest=show&lang=en`;\r\n            return this.sendGetRequest(url);\r\n        });\r\n    }\r\n    static getArtworkTwitter(id) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const url = `https://gettweet.onrender.com/tweet/${id}`;\r\n            return this.sendGetRequest(url);\r\n        });\r\n    }\r\n    static getArtwork(id) {\r\n        const url = `https://www.pixiv.net/ajax/illust/${id}`;\r\n        return this.sendGetRequest(url);\r\n    }\r\n    static getAllArtworks(id) {\r\n        const url = `https://www.pixiv.net/ajax/user/${id}/profile/all`;\r\n        return new Promise((resolve, reject) => {\r\n            fetch(url, requestOptions)\r\n                .then((response) => {\r\n                if (response.ok) {\r\n                    return response.json();\r\n                }\r\n                else {\r\n                    reject({\r\n                        status: response.status,\r\n                        statusText: response.statusText,\r\n                    });\r\n                }\r\n            })\r\n                .then((data) => {\r\n                resolve(data);\r\n            })\r\n                .catch((error) => {\r\n                reject(error);\r\n            });\r\n        });\r\n    }\r\n}\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { API } from \"./api\";\r\nexport const idPixiv = /\\/artworks\\/(\\d+)/;\r\nexport const idTweet = /[0-9]{19,21}/;\r\nexport const format_pixiv = 0;\r\nexport const format_twitter = 1;\r\nexport class Utils {\r\n    static isPixiv(name) {\r\n        let isPixiv = name.indexOf(\"pixiv\") > -1;\r\n        return isPixiv ? 0 : 1;\r\n    }\r\n    static getDataUrl(url) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const id = url.match(idPixiv)[0];\r\n            const data = yield API.getArtwork(id);\r\n            return data;\r\n        });\r\n    }\r\n    static checkData(url) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.getDataUrl(url).then((data) => data);\r\n        });\r\n    }\r\n    static classifiedPageCount(arkwork) {\r\n        var _a, _b;\r\n        const urlArr = [];\r\n        const pageCount = (_a = arkwork === null || arkwork === void 0 ? void 0 : arkwork.body) === null || _a === void 0 ? void 0 : _a.pageCount;\r\n        const img = (_b = arkwork === null || arkwork === void 0 ? void 0 : arkwork.body) === null || _b === void 0 ? void 0 : _b.urls.original;\r\n        if (pageCount <= 1 && arkwork) {\r\n            urlArr.push(img);\r\n        }\r\n        else {\r\n            for (let i = 0; i < pageCount; i++) {\r\n                const url = `${img}`.replace(\"_p0\", `_p${i}`);\r\n                urlArr.push(url);\r\n            }\r\n        }\r\n        return urlArr;\r\n    }\r\n}\r\n","export function setStoredSingle(idSingle) {\r\n    const vals = {\r\n        idSingle,\r\n    };\r\n    return new Promise((resolve) => {\r\n        chrome.storage.local.set(vals, () => {\r\n            resolve();\r\n        });\r\n    });\r\n}\r\nexport function getStoredSingle() {\r\n    const keys = \"idSingle\";\r\n    return new Promise((resolve, reject) => {\r\n        chrome.storage.local.get(keys, (res) => {\r\n            var _a;\r\n            resolve((_a = res.idSingle) !== null && _a !== void 0 ? _a : \"\");\r\n        });\r\n    });\r\n}\r\nexport function setImageUrlStorage(imgUrl) {\r\n    const vals = {\r\n        imgUrl,\r\n    };\r\n    return new Promise((resolve) => {\r\n        chrome.storage.local.set(vals, () => {\r\n            resolve();\r\n        });\r\n    });\r\n}\r\nexport function setImageUrlOriginalStorage(imgUrlOriginal) {\r\n    const vals = {\r\n        imgUrlOriginal,\r\n    };\r\n    return new Promise((resolve) => {\r\n        chrome.storage.local.set(vals, () => {\r\n            resolve();\r\n        });\r\n    });\r\n}\r\nexport function getImageUrlOriginal() {\r\n    const keys = \"imgUrlOriginal\";\r\n    return new Promise((resolve, reject) => {\r\n        chrome.storage.local.get(keys, (res) => {\r\n            var _a;\r\n            resolve((_a = res.imgUrlOriginal) !== null && _a !== void 0 ? _a : \"\");\r\n        });\r\n    });\r\n}\r\nexport function getImageUrl() {\r\n    const keys = \"imgUrl\";\r\n    return new Promise((resolve, reject) => {\r\n        chrome.storage.local.get(keys, (res) => {\r\n            var _a;\r\n            resolve((_a = res.imgUrl) !== null && _a !== void 0 ? _a : \"\");\r\n        });\r\n    });\r\n}\r\nexport function clearImage() {\r\n    chrome.storage.local.clear();\r\n}\r\nexport function setIDArtistStorage(idArtist) {\r\n    const val = {\r\n        idArtist,\r\n    };\r\n    return new Promise((resolve) => {\r\n        chrome.storage.local.set(val, () => {\r\n            resolve();\r\n        });\r\n    });\r\n}\r\nexport function getIDArtistStorage() {\r\n    const keys = \"idArtist\";\r\n    return new Promise((resolve, reject) => {\r\n        chrome.storage.local.get(keys, (res) => {\r\n            var _a;\r\n            resolve((_a = res.idArtist) !== null && _a !== void 0 ? _a : \"\");\r\n        });\r\n    });\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { API, myHeaders } from \"../utils/api\";\r\nimport { clearImage, getImageUrlOriginal, } from \"../utils/storage\";\r\nimport { Utils, idPixiv } from \"../utils/classified\";\r\nimport { checkboxCss, buttonCss, buttonDownloadAllCss } from '../../style/button';\r\nfunction downloadImage(url, msg = \"undifined\") {\r\n    return new Promise((resolve, reject) => {\r\n        fetch(url, {\r\n            method: \"get\",\r\n            credentials: \"same-origin\",\r\n            headers: myHeaders,\r\n        })\r\n            .then((response) => response.blob())\r\n            .then((blob) => {\r\n            const url = URL.createObjectURL(blob);\r\n            const a = document.createElement(\"a\");\r\n            a.style.display = \"none\";\r\n            a.href = url;\r\n            a.download = `Ex-${Date.now()}.jpg`;\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            URL.revokeObjectURL(url);\r\n        })\r\n            .then(() => {\r\n            if (msg === \"undifined\") {\r\n                return;\r\n            }\r\n            else {\r\n                chrome.runtime.sendMessage({ notification: \"Close\" });\r\n            }\r\n        })\r\n            .catch((e) => {\r\n            downloadImage(url);\r\n            resolve(e);\r\n            chrome.runtime.sendMessage({ notification: `reloadextension\"` });\r\n        });\r\n    });\r\n}\r\nconst body = document.getElementsByTagName(\"body\")[0];\r\nlet imgIdArr = [];\r\nconst imagesArray = document.getElementsByTagName(\"img\");\r\nlet myImage = document.createElement(\"img\");\r\nconst styleImage = document.createElement(\"style\");\r\nstyleImage.innerHTML = checkboxCss;\r\nmyImage.className = \"myImage\";\r\nconst buttonDownloadAll = document.createElement(\"button\");\r\nbuttonDownloadAll.innerHTML = \"Download all\";\r\nconst styleButtonAll = document.createElement(\"style\");\r\nstyleImage.innerHTML = buttonDownloadAllCss;\r\nbuttonDownloadAll.className = \"styleButtonAll\";\r\nbody.appendChild(buttonDownloadAll);\r\nbody.appendChild(styleImage);\r\nbody.appendChild(styleButtonAll);\r\nlet linkImg = \"\";\r\nsetInterval(() => {\r\n    for (let i = 2; i < imagesArray.length; i++) {\r\n        if (imagesArray.length > 2 &&\r\n            imagesArray[i].parentElement &&\r\n            imagesArray[i].parentElement.childNodes &&\r\n            imagesArray[i].parentElement.childNodes.length <= 1) {\r\n            const checkbox = document.createElement(\"input\");\r\n            const style = document.createElement(\"style\");\r\n            style.innerHTML = checkboxCss;\r\n            checkbox.className = \"stylecheckbox\";\r\n            checkbox.type = \"checkbox\";\r\n            checkbox.id = \"checkbox\";\r\n            body.appendChild(style);\r\n            const button = document.createElement(\"button\");\r\n            button.innerText = \"\\u21E9\";\r\n            const stylebutton = document.createElement(\"style\");\r\n            stylebutton.innerHTML = buttonCss;\r\n            button.className = \"buttonCss\";\r\n            body.appendChild(stylebutton);\r\n            checkbox.addEventListener(\"click\", function (e) {\r\n                e.stopPropagation();\r\n                const id = e.path[1].innerHTML.match(idPixiv)[0];\r\n                // check if the id is already in array\r\n                if (imgIdArr.includes(id)) {\r\n                    const index = imgIdArr.indexOf(id);\r\n                    imgIdArr.splice(index, 1);\r\n                }\r\n                else {\r\n                    imgIdArr.push(id);\r\n                }\r\n            });\r\n            imagesArray[i].addEventListener(\"mouseover\", function (e) {\r\n                myImage.src = this.src;\r\n                linkImg = this.src;\r\n            });\r\n            imagesArray[i].parentElement.appendChild(button);\r\n            imagesArray[i].parentElement.appendChild(checkbox);\r\n            button.onclick = function (e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                checkImage(linkImg);\r\n            };\r\n        }\r\n    }\r\n}, 100);\r\nbuttonDownloadAll.addEventListener(\"click\", function (e) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (imgIdArr.length > 0) {\r\n            const urlArr = [];\r\n            const isAllCheck = false;\r\n            Array.from(document.querySelectorAll(\"input[type=checkbox]\")).forEach((el) => (el.checked = isAllCheck));\r\n            for (let i = 0; i < imgIdArr.length; i++) {\r\n                const data = yield API.getArtwork(imgIdArr[i]);\r\n                urlArr.push(Utils.classifiedPageCount(data));\r\n            }\r\n            const flatUrl = urlArr.flat();\r\n            const response = flatUrl.map((artworkAfterClassified) => {\r\n                return downloadImage(artworkAfterClassified);\r\n            });\r\n            yield Promise.all(response).then(() => {\r\n                imgIdArr = [];\r\n            });\r\n        }\r\n        else {\r\n            alert(\"Please select an artwork\");\r\n        }\r\n    });\r\n});\r\nlet queue = [];\r\nconst myProgress = document.createElement(\"div\");\r\nmyProgress.setAttribute(\"id\", \"myProgress\");\r\nconst processBar = document.createElement(\"div\");\r\nprocessBar.setAttribute(\"id\", \"myBar\");\r\nmyProgress.appendChild(processBar);\r\nfunction createProcess(responseafterdownload, filename, urlFromAPI) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        myProgress.style.width = \"100px\";\r\n        myProgress.style.height = \"10px\";\r\n        myProgress.style.backgroundColor = \"#ddd\";\r\n        myProgress.style.display = \"none\";\r\n        processBar.style.fontSize = \"15px\";\r\n        processBar.style.width = \"10%\";\r\n        processBar.style.height = \"10px\";\r\n        myProgress.style.zIndex = \"1000\";\r\n        processBar.style.backgroundColor = \"#04AA6D\";\r\n        myProgress.style.position = \"fixed\";\r\n        myProgress.style.right = \"0\";\r\n        myProgress.style.bottom = \"0\";\r\n        myProgress.style.padding = \"0.5rem\";\r\n        myProgress.style.margin = \"0.5rem 0.5rem 0.5rem 0\";\r\n        myProgress.style.display = \"block\";\r\n        processBar.style.display = \"block\";\r\n        body.appendChild(myProgress);\r\n        let dataDownload = yield responseafterdownload.clone();\r\n        const reader = dataDownload.body.getReader();\r\n        const contentLength = +responseafterdownload.headers.get(\"Content-Length\");\r\n        yield readContentLength(contentLength, reader, processBar, myProgress);\r\n        responseafterdownload.blob().then((blob) => __awaiter(this, void 0, void 0, function* () {\r\n            const url = URL.createObjectURL(blob);\r\n            sendDownload(url, filename);\r\n        }));\r\n    });\r\n}\r\nfunction readContentLength(contentLength, reader, processBar, myProgress1) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        let receivedLength = 0;\r\n        while (true) {\r\n            const { done, value } = yield reader.read();\r\n            if (done) {\r\n                break;\r\n            }\r\n            receivedLength += value.length;\r\n            processBar.style.width =\r\n                Math.floor((receivedLength / contentLength) * 100) + \"%\";\r\n            processBar.innerHTML =\r\n                Math.floor((receivedLength / contentLength) * 100) + \"%\";\r\n        }\r\n        if (receivedLength === contentLength ||\r\n            processBar.innerHTML === \"100%\" ||\r\n            processBar.innerHTML === \"Infinity%\") {\r\n            myProgress1.style.display = \"none\";\r\n            processBar.style.width = 0 + \"%\";\r\n            processBar.innerHTML = 0 + \"%\";\r\n        }\r\n    });\r\n}\r\nfunction asyncEachUrl(array, callback) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        for (let index = 0; index < array.length; index++) {\r\n            yield callback(array[index], index, array);\r\n        }\r\n    });\r\n}\r\nfunction checkImage(url) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        queue = [];\r\n        const data = yield Utils.checkData(url);\r\n        const nameArtist = (data === null || data === void 0 ? void 0 : data.body.userName) || '';\r\n        const count = data.body.pageCount || 0;\r\n        const urlFromAPI = data.body.urls.original;\r\n        if (data.body.pageCount <= 1) {\r\n            const responseafterdownload = yield getUrlAfterDownload(urlFromAPI, nameArtist);\r\n            createProcess(responseafterdownload, nameArtist, urlFromAPI);\r\n        }\r\n        else {\r\n            for (let i = 0; i < count; i++) {\r\n                const url = `${urlFromAPI}`.replace(\"_p0\", `_p${i}`);\r\n                const responseafterdownload = yield getUrlAfterDownload(url, nameArtist);\r\n                queue.push(responseafterdownload);\r\n            }\r\n            // limit batch download to 10 image\r\n            asyncEachUrl(queue, (artwork) => {\r\n                createProcess(artwork, nameArtist, urlFromAPI);\r\n            });\r\n        }\r\n    });\r\n}\r\nfunction waitToDownloadAgain(delay) {\r\n    return new Promise((resolve, reject) => {\r\n        setTimeout(resolve, delay);\r\n    });\r\n}\r\nconst fetchOptions = {\r\n    method: \"get\",\r\n    credentials: \"same-origin\",\r\n    headers: myHeaders,\r\n};\r\nfunction getRetryDownload(newurl, delay, tries, fetchOptions) {\r\n    function onError(err) {\r\n        let triesLeft = tries - 1;\r\n        if (!triesLeft) {\r\n            throw new Error(err);\r\n        }\r\n        return waitToDownloadAgain(delay).then(() => getRetryDownload(newurl, delay, triesLeft, fetchOptions));\r\n    }\r\n    return fetch(newurl, fetchOptions).catch(onError);\r\n}\r\nfunction getUrlAfterDownload(newurl, filename) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const responseafterdownload = yield fetch(newurl, {\r\n            method: \"get\",\r\n            credentials: \"same-origin\",\r\n            headers: myHeaders,\r\n        }).catch((e) => __awaiter(this, void 0, void 0, function* () {\r\n            chrome.runtime.sendMessage({ notification: `reloadextension\"` });\r\n            const responseafterdownload = yield getRetryDownload(newurl, 3000, 5, fetchOptions);\r\n            return responseafterdownload;\r\n        }));\r\n        return responseafterdownload;\r\n    });\r\n}\r\nfunction sendDownload(urlInput, filename) {\r\n    chrome.runtime.sendMessage({\r\n        notification: \"downloadfilename\",\r\n        url: urlInput,\r\n        filename: filename,\r\n    });\r\n}\r\ngetImageUrlOriginal().then((res) => __awaiter(void 0, void 0, void 0, function* () {\r\n    if (res.length > 0) {\r\n        downloadImage(res, 'Close');\r\n    }\r\n}));\r\nchrome.storage.local.get(\"arrUrl1\", function (res) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (res || res.arrUrl1.length > 0) {\r\n            const response = res.arrUrl1.map((url) => {\r\n                return downloadImage(url);\r\n            });\r\n            let timeWaitToResolve = 2000;\r\n            yield new Promise((resolve) => {\r\n                setTimeout(() => {\r\n                    if (res.isClose == 1) {\r\n                        chrome.runtime.sendMessage({ notification: \"Close\" });\r\n                    }\r\n                    resolve();\r\n                }, timeWaitToResolve);\r\n            });\r\n            yield Promise.all(response);\r\n        }\r\n    });\r\n});\r\nclearImage();\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;;;;;;;;;;;;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;;;;;;;;;;;;;;;;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;;;;;;;;;;;;;;;;;;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;;;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}